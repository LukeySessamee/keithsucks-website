                }
                
                function onTouchMove(e) {
                    moveAt(e.touches[0].clientX, e.touches[0].clientY);
                }
                
                // Add appropriate event listeners
                if (e.type.includes('mouse')) {
                    document.addEventListener('mousemove', onMouseMove);
                    document.addEventListener('mouseup', function() {
                        document.removeEventListener('mousemove', onMouseMove);
                    });
                } else {
                    document.addEventListener('touchmove', onTouchMove);
                    document.addEventListener('touchend', function() {
                        document.removeEventListener('touchmove', onTouchMove);
                    });
                }
            }
            
            // Prevent default drag behavior
            el.ondragstart = () => false;
        });
        
        // Handle dropdown menu for mobile tap
        document.querySelector('.menu').addEventListener('touchend', function(e) {
            const dropdown = this.querySelector('.dropdown');
            if (dropdown.style.display === 'block') {
                dropdown.style.display = 'none';
            } else {
                dropdown.style.display = 'block';
                e.stopPropagation();
            }
        });
        
        // Close dropdown when tapping elsewhere
        document.addEventListener('touchend', function() {
            document.querySelector('.dropdown').style.display = 'none';
        });
    </script>
</body>
</html>
